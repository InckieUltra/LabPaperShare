(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-91a43310"],{"98d6":function(e,t,i){"use strict";i("e34b")},e34b:function(e,t,i){},ec20:function(e,t,i){"use strict";i.r(t);var n=i("7a23"),l={style:{padding:"10px"}},o=Object(n["p"])("编辑"),a=Object(n["p"])("新增"),c=Object(n["p"])("删除"),d={style:{margin:"10px 0"}},r={class:"dialog-footer"},u=Object(n["p"])("取 消"),s=Object(n["p"])("确 定"),b={style:{margin:"10px 0"}},f={class:"dialog-footer"},m=Object(n["p"])("取 消"),O=Object(n["p"])("确 定");function j(e,t,i,j,p,g){var h=Object(n["S"])("el-table-column"),_=Object(n["S"])("el-button"),V=Object(n["S"])("el-popconfirm"),y=Object(n["S"])("el-table"),q=Object(n["S"])("el-input"),w=Object(n["S"])("el-form-item"),k=Object(n["S"])("el-form"),v=Object(n["S"])("el-dialog"),C=Object(n["T"])("loading");return Object(n["J"])(),Object(n["m"])("div",l,[Object(n["jb"])(Object(n["q"])(y,{data:this.tableData,border:"",stripe:"",style:{width:"100%","margin-top":"10px"},"row-key":"field_id","default-expand-all":""},{default:Object(n["ib"])((function(){return[Object(n["q"])(h,{prop:"field_name",label:"领域名称"}),Object(n["q"])(h,{label:"操作"},{default:Object(n["ib"])((function(e){return[Object(n["q"])(_,{size:"mini",onClick:function(t){return g.handleEdit(e.row)}},{default:Object(n["ib"])((function(){return[o]})),_:2},1032,["onClick"]),Object(n["q"])(_,{size:"mini",onClick:function(t){return g.add(e.row)}},{default:Object(n["ib"])((function(){return[a]})),_:2},1032,["onClick"]),Object(n["q"])(V,{title:"确定删除吗？",onConfirm:function(t){return g.handleDelete(e.row.field_id)}},{reference:Object(n["ib"])((function(){return[Object(n["q"])(_,{size:"mini",type:"danger"},{default:Object(n["ib"])((function(){return[c]})),_:1})]})),_:2},1032,["onConfirm"])]})),_:1})]})),_:1},8,["data"]),[[C,p.loading]]),Object(n["n"])("div",d,[Object(n["q"])(v,{title:"新增",modelValue:p.dialogVisible2,"onUpdate:modelValue":t[2]||(t[2]=function(e){return p.dialogVisible2=e}),width:"30%"},{footer:Object(n["ib"])((function(){return[Object(n["n"])("span",r,[Object(n["q"])(_,{onClick:t[1]||(t[1]=function(e){return p.dialogVisible2=!1})},{default:Object(n["ib"])((function(){return[u]})),_:1}),Object(n["q"])(_,{type:"primary",onClick:g.saveAdd},{default:Object(n["ib"])((function(){return[s]})),_:1},8,["onClick"])])]})),default:Object(n["ib"])((function(){return[Object(n["q"])(k,{"label-width":"120px"},{default:Object(n["ib"])((function(){return[Object(n["q"])(w,{label:"名称"},{default:Object(n["ib"])((function(){return[Object(n["q"])(q,{modelValue:p.form.field_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return p.form.field_name=e}),style:{width:"80%"}},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]),Object(n["n"])("div",b,[Object(n["q"])(v,{title:"设置新名称",modelValue:p.dialogVisible3,"onUpdate:modelValue":t[5]||(t[5]=function(e){return p.dialogVisible3=e}),width:"30%"},{footer:Object(n["ib"])((function(){return[Object(n["n"])("span",f,[Object(n["q"])(_,{onClick:t[4]||(t[4]=function(e){return p.dialogVisible3=!1})},{default:Object(n["ib"])((function(){return[m]})),_:1}),Object(n["q"])(_,{type:"primary",onClick:g.updateName},{default:Object(n["ib"])((function(){return[O]})),_:1},8,["onClick"])])]})),default:Object(n["ib"])((function(){return[Object(n["q"])(k,{"label-width":"120px"},{default:Object(n["ib"])((function(){return[Object(n["q"])(w,{label:"名称"},{default:Object(n["ib"])((function(){return[Object(n["q"])(q,{modelValue:p.form.field_name,"onUpdate:modelValue":t[3]||(t[3]=function(e){return p.form.field_name=e}),style:{width:"80%"}},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])])])}var p=i("b775"),g={name:"Field",components:{},data:function(){return{user:{},loading:!0,form:{},dialogVisible:!1,dialogVisible2:!1,dialogVisible3:!1,tableData:[]}},created:function(){this.load()},methods:{add:function(e){this.form=JSON.parse(JSON.stringify(e)),this.form.pid=this.form.field_id,this.form.field_id=null,this.dialogVisible2=!0},addRoot:function(){this.form.pid=null,this.form.field_id=null,this.dialogVisible2=!0},handleEdit:function(e){this.form=JSON.parse(JSON.stringify(e)),this.dialogVisible3=!0},updateName:function(){var e=this;console.log("传过去的： "),console.log(this.form),p["a"].post("/api/admin/modifyfieldname",this.form).then((function(t){0===t.code?e.$message({type:"success",message:"更新成功"}):e.$message({type:"error",message:t.msg}),e.load(),e.dialogVisible3=!1}))},saveAdd:function(){var e=this;console.log("传过去的： "),console.log(this.form),p["a"].post("/api/admin/addfield",this.form).then((function(t){0===t.code?e.$message({type:"success",message:"新增成功"}):e.$message({type:"error",message:t.msg}),e.load(),e.dialogVisible2=!1}))},load:function(){var e=this;this.loading=!0,p["a"].post("/api/allfield").then((function(t){e.loading=!1,e.tableData=t.data}))},handleDelete:function(e){var t=this;console.log(e),p["a"].post("/api/admin/deletefield?field_id="+e).then((function(e){0===e.code?t.$message({type:"success",message:"删除成功"}):t.$message({type:"error",message:e.msg}),t.load()}))}}};i("98d6");g.render=j;t["default"]=g}}]);
//# sourceMappingURL=chunk-91a43310.f3ed4b75.js.map