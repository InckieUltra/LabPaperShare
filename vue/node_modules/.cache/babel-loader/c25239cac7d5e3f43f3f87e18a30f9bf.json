{"remainingRequest":"/Users/liujiaming/Documents/LabPaperShare-main/vue/node_modules/babel-loader/lib/index.js!/Users/liujiaming/Documents/LabPaperShare-main/vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liujiaming/Documents/LabPaperShare-main/vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/liujiaming/Documents/LabPaperShare-main/vue/src/views/PaperList.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/liujiaming/Documents/LabPaperShare-main/vue/src/views/PaperList.vue","mtime":1654519355532},{"path":"/Users/liujiaming/Documents/LabPaperShare-main/vue/node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js","mtime":1651659848347},{"path":"/Users/liujiaming/Documents/LabPaperShare-main/vue/node_modules/babel-loader/lib/index.js","mtime":1651659848904},{"path":"/Users/liujiaming/Documents/LabPaperShare-main/vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1651659848347},{"path":"/Users/liujiaming/Documents/LabPaperShare-main/vue/node_modules/vue-loader-v16/dist/index.js","mtime":1651659849069}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0IjsKaW1wb3J0IHsgYWN0aXZlUm91dGVyIH0gZnJvbSAiQC91dGlscy9wZXJtaXNzaW9uIjsKaW1wb3J0IGNvbW1lbnQgZnJvbSAiQC9jb21wb25lbnRzL0NvbW1lbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1JvbGUnLAogIGNvbXBvbmVudHM6IHsKICAgIGNvbW1lbnQ6IGNvbW1lbnQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkcmF3ZXI6IGZhbHNlLAogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBmb3JtOiB7fSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGJvb2tWaXM6IGZhbHNlLAogICAgICBzZWFyY2g6ICcnLAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICB0b3RhbDogMCwKICAgICAgdG90YWxQYWdlOiAxLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBwZXJtaXNzaW9uczogW10sCiAgICAgIGNoYW5nZVBlcm1pc3Npb25zOiB7CiAgICAgICAgcm9sZV9pZDogJycsCiAgICAgICAgcGVybWlzc2lvbl9pZDogW10KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWQoKTsgLy90aGlzLnNldEN1cnJlbnRQYWdlRGF0YSgpCiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkOiBmdW5jdGlvbiBsb2FkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgcmVxdWVzdC5wb3N0KCIvYXBpL2FkbWluL2FsbHJvbGVpbmZvIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAwKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YS5sZW5ndGgpOwogICAgICAgICAgY29uc29sZS5sb2coIuaJk+WNsHRhYmxlRGF0YTogIik7CiAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICBfdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YTsKCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLnRhYmxlRGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgYXJyID0gbmV3IEFycmF5KCk7CgogICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IF90aGlzLnRhYmxlRGF0YVtpXS5wZXJtaXNzaW9ucy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgIGFyci5wdXNoKF90aGlzLnRhYmxlRGF0YVtpXS5wZXJtaXNzaW9uc1tqXS5wZXJtaXNzaW9uX2lkKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX3RoaXMudGFibGVEYXRhW2ldLnBlcm1pc3Npb25zID0gYXJyOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLnRhYmxlRGF0YSk7CiAgICAgICAgICBfdGhpcy50b3RhbCA9IHJlcy5kYXRhLmxlbmd0aDsKICAgICAgICB9IGVsc2UgaWYgKHJlcy5jb2RlID09PSAxKSB7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2cKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzZWVEZXRhaWw6IGZ1bmN0aW9uIHNlZURldGFpbChyb3cpIHt9LAogICAgc2VlRmlsZTogZnVuY3Rpb24gc2VlRmlsZShyb3cpIHt9LAogICAgc2VlQ29tbWVudDogZnVuY3Rpb24gc2VlQ29tbWVudChyb3cpIHsKICAgICAgdGhpcy5kcmF3ZXIgPSB0cnVlOyAvL2NvbnNvbGUubG9nKHJvdykKCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL3BhcGVyTGlzdCcsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGZpZWxkX2lkOiByb3cuZmllbGRfaWQsCiAgICAgICAgICBmaWVsZF9uYW1lOiByb3cuZmllbGRfbmFtZQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZShwYWdlU2l6ZSkgewogICAgICAvLyDmlLnlj5jlvZPliY3mr4/pobXnmoTkuKrmlbDop6blj5EKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHBhZ2VTaXplOwogICAgICB0aGlzLmxvYWQoKTsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKHBhZ2VOdW0pIHsKICAgICAgLy8g5pS55Y+Y5b2T5YmN6aG156CB6Kem5Y+RCiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBwYWdlTnVtOwogICAgICB0aGlzLmxvYWQoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/liujiaming/Documents/LabPaperShare-main/vue/src/views/PaperList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div style=\"padding: 10px\">\n    <el-table\n        v-loading=\"loading\"\n        :data=\"tableData.slice((currentPage-1)*pageSize,currentPage*pageSize)\"\n        border\n        stripe\n        style=\"width: 1100px\">\n      <el-table-column\n          prop=\"role_id\"\n          label=\"论文标题\"\n          sortable\n      >\n      </el-table-column>\n      <el-table-column\n          prop=\"comment\"\n          label=\"论文作者\">\n      </el-table-column>\n\n      <el-table-column\n          prop=\"comment\"\n          label=\"所属领域\">\n      </el-table-column>\n      <el-table-column\n          prop=\"comment\"\n          label=\"发布时间\">\n      </el-table-column>\n      <el-table-column label=\"操作\" >\n        <template #default=\"scope\">\n          <el-button size=\"mini\" type=\"primary\" @click=\"seeDetail(scope.row)\">详情</el-button>\n          <el-button size=\"mini\" @click=\"seeFile(scope.row)\">附件</el-button>\n          <el-button size=\"mini\" @click=\"seeComment(scope.row)\">评论</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <div style=\"margin: 10px 0\">\n      <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"currentPage\"\n          :page-sizes=\"[5, 10, 20]\"\n          :page-size=\"pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\">\n      </el-pagination>\n    </div>\n\n  </div>\n  <el-drawer v-model=\"drawer\" title=\"I am the title\" :with-header=\"false\" size=\"55%\">\n    <span>\n      <comment style=\"width: 230%\"></comment>\n    </span>\n  </el-drawer>\n</template>\n\n<script>\n\n\nimport request from \"@/utils/request\";\nimport {activeRouter} from \"@/utils/permission\";\nimport comment from \"@/components/Comment\";\nexport default {\n  name: 'Role',\n  components: {\n    comment\n  },\n  data() {\n    return {\n      drawer:false,\n      loading: true,\n      form: {},\n      dialogVisible: false,\n      bookVis: false,\n      search: '',\n      currentPage: 1,\n      pageSize: 10,\n      total: 0,\n      totalPage:1,\n      tableData: [],\n      permissions: [],\n      changePermissions:{\n        role_id:'',\n        permission_id:[]\n      }\n    }\n  },\n  created() {\n    this.load()\n    //this.setCurrentPageData()\n  },\n  methods: {\n    load() {\n      this.loading = true\n      request.post(\"/api/admin/allroleinfo\").then(res => {\n        if (res.code === 0){\n          console.log(res.data.length)\n          console.log(\"打印tableData: \")\n\n          this.loading = false\n          this.tableData = res.data\n          for(let i=0;i<this.tableData.length;i++){\n            let arr = new Array()\n            for (let j = 0;j<this.tableData[i].permissions.length;j++){\n              arr.push(this.tableData[i].permissions[j].permission_id)\n            }\n            this.tableData[i].permissions = arr;\n          }\n          console.log(this.tableData)\n          this.total = res.data.length\n        }else if (res.code === 1){\n          this.$message({\n            type: \"error\",\n            message: res.msg,\n          })\n\n          this.$router.push(\"/login\")\n        }else{\n          this.$message({\n            type: \"error\",\n            message: res.msg,\n          })\n        }\n\n      })\n    },\n\n    seeDetail(row) {\n    },\n    seeFile(row) {\n    },\n    seeComment(row) {\n      this.drawer=true;\n        //console.log(row)\n        this.$router.push({path: '/paperList',query:{field_id:row.field_id,field_name:row.field_name }})\n\n    },\n    handleSizeChange(pageSize) {   // 改变当前每页的个数触发\n      this.pageSize = pageSize\n      this.load()\n    },\n    handleCurrentChange(pageNum) {  // 改变当前页码触发\n      this.currentPage = pageNum\n      this.load()\n    }\n  }\n}\n</script>\n"],"sourceRoot":""}]}