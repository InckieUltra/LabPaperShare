{"remainingRequest":"/Users/liujiaming/Documents/LabPaperShare-main/vue/node_modules/babel-loader/lib/index.js!/Users/liujiaming/Documents/LabPaperShare-main/vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liujiaming/Documents/LabPaperShare-main/vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/liujiaming/Documents/LabPaperShare-main/vue/src/views/Detail.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/liujiaming/Documents/LabPaperShare-main/vue/src/views/Detail.vue","mtime":1655195968781},{"path":"/Users/liujiaming/Documents/LabPaperShare-main/vue/node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js","mtime":1651659848347},{"path":"/Users/liujiaming/Documents/LabPaperShare-main/vue/node_modules/babel-loader/lib/index.js","mtime":1651659848904},{"path":"/Users/liujiaming/Documents/LabPaperShare-main/vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1651659848347},{"path":"/Users/liujiaming/Documents/LabPaperShare-main/vue/node_modules/vue-loader-v16/dist/index.js","mtime":1651659849069}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGNvbW1lbnQgZnJvbSAiQC9jb21wb25lbnRzL0NvbW1lbnQiOwppbXBvcnQgcmVxdWVzdCBmcm9tICJAL3V0aWxzL3JlcXVlc3QiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkRldGFpbCIsCiAgaW5qZWN0OiBbJ3JlbG9hZCddLAogIGNvbXBvbmVudHM6IHsKICAgIGNvbW1lbnQ6IGNvbW1lbnQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmaWVsZF9uYW1lOiAnJywKICAgICAgcGFwZXJfaWQ6ICcnLAogICAgICB1c2VyX2lkOiAnJywKICAgICAgcm9sZTogJycsCiAgICAgIGxhc3RQYXRoOiAnJywKICAgICAgZm9ybTogewogICAgICAgIGZpZWxkOiBTdHJpbmcsCiAgICAgICAgZmlsZXM6IFtdCiAgICAgIH0sCiAgICAgIFJlcTogewogICAgICAgIHNlcnZlcmZpbGU6ICcnLAogICAgICAgIHNhdmVmaWxlOiAnJwogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgcm91dGVDbGljazogZnVuY3Rpb24gcm91dGVDbGljayhlKSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZTsKICAgIH0sCiAgICBqdW1wUGFwZXJDaGFuZ2U6IGZ1bmN0aW9uIGp1bXBQYXBlckNoYW5nZShyb3cpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvY2hhbmdlUGFwZXInLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBvcmlnaW5fcGFwZXJfaWQ6IHJvdy5wYXBlcl9pZCwKICAgICAgICAgIHVwbG9hZF9pZDogcm93LnVwbG9hZF9pZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZG93bkZpbGVzOiBmdW5jdGlvbiBkb3duRmlsZXMoZmlsZXMpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLlJlcS5zZXJ2ZXJmaWxlID0gZmlsZXNbaV07CiAgICAgICAgdGhpcy5SZXEuc2F2ZWZpbGUgPSAnL1VzZXJzL2xpdWppYW1pbmcvRG93bmxvYWRzLy8nICsgZmlsZXNbaV07CiAgICAgICAgY29uc29sZS5sb2codGhpcy5SZXEpOwogICAgICAgIHJlcXVlc3QucG9zdCgiL2FwaS9maWxlL2Rvd25sb2FkIiwgdGhpcy5SZXEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAwKSB7CiAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuS4i+i9veaIkOWKnyIpOwoKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLm1zZyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcigi5LiL6L295aSx6LSlIik7CgogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMubXNnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHZhciB1c2VyU3RyciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXIiKTsKICAgIHRoaXMucm9sZSA9IEpTT04ucGFyc2UodXNlclN0cnIpLnJvbGU7CiAgICB0aGlzLnVzZXJfaWQgPSBKU09OLnBhcnNlKHVzZXJTdHJyKS51c2VyX2lkOwogICAgdGhpcy5wYXBlcl9pZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnBhcGVyX2lkOwogICAgY29uc29sZS5sb2coImppYXphaeivpuaDhSIpOwogICAgcmVxdWVzdC5wb3N0KCIvYXBpL3BhcGVyP3BhcGVyX2lkPSIgKyB0aGlzLnBhcGVyX2lkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgaWYgKHJlcy5jb2RlID09PSAwKSB7CiAgICAgICAgX3RoaXMyLmZvcm0gPSByZXMuZGF0YTsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpczIuZm9ybSk7CiAgICAgICAgdmFyIHRlbXA7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzLmRhdGEuZmllbGRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YS5maWVsZHNbaV0uZmllbGRfbmFtZSk7CgogICAgICAgICAgaWYgKGkgPT09IDApIHsKICAgICAgICAgICAgdGVtcCA9IHJlcy5kYXRhLmZpZWxkc1tpXS5maWVsZF9uYW1lOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGVtcCA9IHRlbXAgKyAnLCcgKyByZXMuZGF0YS5maWVsZHNbaV0uZmllbGRfbmFtZTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIF90aGlzMi5mb3JtLmZpZWxkID0gdGVtcDsKICAgICAgfSBlbHNlIHsKICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoIuWKoOi9veWksei0pSIpOwoKICAgICAgICBjb25zb2xlLmxvZyhyZXMubXNnKTsKICAgICAgfQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/liujiaming/Documents/LabPaperShare-main/vue/src/views/Detail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-container>\n      <el-header>\n        <h1 style=\"text-align: center\">{{form.title}}</h1>\n        <div v-for=\"a in form.authors\" style=\"text-align: center;white-space: nowrap;color: #545c64\">{{a}}</div>\n      </el-header>\n      <el-main style=\"margin-top: 10px\">\n\n\n        <div style=\"font-size: 15px;\">摘要：{{form.summary}}</div>\n        <el-divider></el-divider>\n        <div style=\"font-size: 15px;\">发布会议：{{form.conference}}</div>\n        <el-divider></el-divider>\n        <div style=\"font-size: 15px;\">发布日期：{{form.date}}</div>\n        <el-divider></el-divider>\n        <div style=\"font-size: 15px;\">所属领域：{{form.field}}</div>\n        <el-divider></el-divider>\n        <div style=\"font-size: 15px;\">论文链接：\n          <el-button @click='routeClick(\"http://\"+form.link)' type=\"text\">{{form.link}}</el-button>\n          </div>\n        <el-divider></el-divider>\n        <div style=\"font-size: 15px;\">笔记内容：\n        <div v-html=\"this.form.content\"></div>\n        </div>\n\n        <el-divider content-position=\"center\">\n          <div style=\"margin:0px auto\">\n            <el-button v-if=\"role === 1 || user_id ===this.form.user_id\" @click=\"jumpPaperChange(form)\">修改论文信息</el-button>\n            <el-button v-if=\"this.form.files.length!==0\" @click=\"downFiles(form.files)\">下载附件</el-button>\n          </div>\n        </el-divider>\n\n\n        <comment style=\"width: 100%\" :paperid =this.paper_id>\n        </comment>\n\n      </el-main>\n    </el-container>\n\n  </div>\n\n</template>\n\n<script>\nimport comment from \"@/components/Comment\";\nimport request from \"@/utils/request\";\nexport default {\n  name: \"Detail\",\n  inject:['reload'],\n  components:{\n    comment\n  },\n  data(){\n    return{\n      field_name:'',\n      paper_id:'',\n      user_id:'',\n      role:'',\n      lastPath:'',\n      form:{\n        field:String,\n        files:[]\n      },\n      Req:{\n        serverfile:'',\n        savefile:''\n      }\n    }\n  },\n  methods:{\n    routeClick(e){\n      window.location.href = e;\n    },\n    jumpPaperChange(row){\n      this.$router.push({path:'/changePaper', query:{origin_paper_id: row.paper_id,upload_id : row.upload_id}})\n    },\n    downFiles(files){\n      for (let i = 0;i<files.length;i++){\n        this.Req.serverfile = files[i]\n        this.Req.savefile = '/Users/liujiaming/Downloads//'+files[i]\n        console.log(this.Req)\n\n        request.post(\"/api/file/download\",this.Req).then(res => {\n          if (res.code === 0){\n            this.$message.success(\"下载成功\")\n            console.log(res.msg)\n          }else{\n            this.$message.error(\"下载失败\")\n            console.log(res.msg)\n          }\n        })\n      }\n\n    }\n  },\n  created() {\n    let userStrr = sessionStorage.getItem(\"user\")\n    this.role = JSON.parse(userStrr).role\n    this.user_id = JSON.parse(userStrr).user_id\n    this.paper_id = this.$route.query.paper_id\n    console.log(\"jiazai详情\")\n    request.post(\"/api/paper?paper_id=\"+this.paper_id).then(res => {\n      if (res.code === 0){\n        this.form = res.data\n        console.log(this.form)\n        var temp\n        for (var i = 0;i<res.data.fields.length;i++){\n          console.log(res.data.fields[i].field_name)\n          if (i===0){\n            temp = res.data.fields[i].field_name\n          }else{\n            temp= temp + ','+ res.data.fields[i].field_name\n          }\n        }\n        this.form.field=temp\n      }else{\n        this.$message.error(\"加载失败\")\n        console.log(res.msg)\n      }\n    })\n  },\n\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":""}]}