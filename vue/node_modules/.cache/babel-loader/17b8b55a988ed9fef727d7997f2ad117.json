{"remainingRequest":"/Users/liujiaming/Desktop/大二下/Database/Springboot-vue/database_project/vue/node_modules/babel-loader/lib/index.js!/Users/liujiaming/Desktop/大二下/Database/Springboot-vue/database_project/vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liujiaming/Desktop/大二下/Database/Springboot-vue/database_project/vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/liujiaming/Desktop/大二下/Database/Springboot-vue/database_project/vue/src/views/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/liujiaming/Desktop/大二下/Database/Springboot-vue/database_project/vue/src/views/Login.vue","mtime":1650805883514},{"path":"/Users/liujiaming/Desktop/大二下/Database/Springboot-vue/database_project/vue/node_modules/cache-loader/dist/cjs.js","mtime":1650090877579},{"path":"/Users/liujiaming/Desktop/大二下/Database/Springboot-vue/database_project/vue/node_modules/babel-loader/lib/index.js","mtime":1650090878161},{"path":"/Users/liujiaming/Desktop/大二下/Database/Springboot-vue/database_project/vue/node_modules/cache-loader/dist/cjs.js","mtime":1650090877579},{"path":"/Users/liujiaming/Desktop/大二下/Database/Springboot-vue/database_project/vue/node_modules/vue-loader-v16/dist/index.js","mtime":1650090871984}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0IjsKaW1wb3J0IFZhbGlkQ29kZSBmcm9tICJAL2NvbXBvbmVudHMvVmFsaWRDb2RlIjsKaW1wb3J0IHsgYWN0aXZlUm91dGVyIH0gZnJvbSAiQC91dGlscy9wZXJtaXNzaW9uIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgY29tcG9uZW50czogewogICAgVmFsaWRDb2RlOiBWYWxpZENvZGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2ZWRpb0NhblBsYXk6IGZhbHNlLAogICAgICBmaXhTdHlsZTogJycsCiAgICAgIGZvcm06IHt9LAogICAgICBydWxlczogewogICAgICAgIHVzZXJuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCNJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5a+G56CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHZhbGlkQ29kZTogJycgLy8g5Yqg6IOM5pmv5Zu+54mHCiAgICAgIC8vIGJnOiB7CiAgICAgIC8vICAgYmFja2dyb3VuZEltYWdlOiAidXJsKCIgKyByZXF1aXJlKCJAL2Fzc2V0cy9iZy5qcGciKSArICIpIiwKICAgICAgLy8gICBiYWNrZ3JvdW5kUmVwZWF0OiAibm8tcmVwZWF0IiwKICAgICAgLy8gICBiYWNrZ3JvdW5kU2l6ZTogIjEwMCUgMTAwJSIKICAgICAgLy8gfQoKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VyIik7CgogICAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgd2luZG93V2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwogICAgICB2YXIgd2luZG93SGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7CiAgICAgIHZhciB3aW5kb3dBc3BlY3RSYXRpbyA9IHdpbmRvd0hlaWdodCAvIHdpbmRvd1dpZHRoOwogICAgICB2YXIgdmlkZW9XaWR0aDsKICAgICAgdmFyIHZpZGVvSGVpZ2h0OwoKICAgICAgaWYgKHdpbmRvd0FzcGVjdFJhdGlvIDwgMC41NjI1KSB7CiAgICAgICAgdmlkZW9XaWR0aCA9IHdpbmRvd1dpZHRoOwogICAgICAgIHZpZGVvSGVpZ2h0ID0gdmlkZW9XaWR0aCAqIDAuNTYyNTsKICAgICAgICBfdGhpcy5maXhTdHlsZSA9IHsKICAgICAgICAgIGhlaWdodDogd2luZG93V2lkdGggKiAwLjU2MjUgKyAncHgnLAogICAgICAgICAgd2lkdGg6IHdpbmRvd1dpZHRoICsgJ3B4JywKICAgICAgICAgICdtYXJnaW4tYm90dG9tJzogKHdpbmRvd0hlaWdodCAtIHZpZGVvSGVpZ2h0KSAvIDIgKyAncHgnLAogICAgICAgICAgJ21hcmdpbi1sZWZ0JzogJ2luaXRpYWwnCiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2aWRlb0hlaWdodCA9IHdpbmRvd0hlaWdodDsKICAgICAgICB2aWRlb1dpZHRoID0gdmlkZW9IZWlnaHQgLyAwLjU2MjU7CiAgICAgICAgX3RoaXMuZml4U3R5bGUgPSB7CiAgICAgICAgICBoZWlnaHQ6IHdpbmRvd0hlaWdodCArICdweCcsCiAgICAgICAgICB3aWR0aDogd2luZG93SGVpZ2h0IC8gMC41NjI1ICsgJ3B4JywKICAgICAgICAgICdtYXJnaW4tbGVmdCc6ICh3aW5kb3dXaWR0aCAtIHZpZGVvV2lkdGgpIC8gMiArICdweCcsCiAgICAgICAgICAnbWFyZ2luLWJvdHRvbSc6ICdpbml0aWFsJwogICAgICAgIH07CiAgICAgIH0KICAgIH07CgogICAgd2luZG93Lm9ucmVzaXplKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjYW5wbGF5OiBmdW5jdGlvbiBjYW5wbGF5KCkgewogICAgICB0aGlzLnZlZGlvQ2FuUGxheSA9IHRydWU7CiAgICB9LAogICAgLy8g5o6l5pS26aqM6K+B56CB57uE5Lu25o+Q5Lqk55qEIDTkvY3pqozor4HnoIEKICAgIGNyZWF0ZVZhbGlkQ29kZTogZnVuY3Rpb24gY3JlYXRlVmFsaWRDb2RlKGRhdGEpIHsKICAgICAgdGhpcy52YWxpZENvZGUgPSBkYXRhOwogICAgfSwKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzWydmb3JtJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpZiAoIV90aGlzMi5mb3JtLnZhbGlkQ29kZSkgewogICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoIuivt+Whq+WGmemqjOivgeeggSIpOwoKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChfdGhpczIuZm9ybS52YWxpZENvZGUudG9Mb3dlckNhc2UoKSAhPT0gX3RoaXMyLnZhbGlkQ29kZS50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcigi6aqM6K+B56CB6ZSZ6K+vIik7CgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBtZXNzYWdlOiAi55m75b2V5oiQ5YqfIgogICAgICAgICAgfSk7CgogICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidXNlciIsIEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhKSk7IC8vIOe8k+WtmOeUqOaIt+S/oeaBrwoKICAgICAgICAgIHJlcXVlc3QucG9zdCgiL3VzZXIvbG9naW4iLCBfdGhpczIuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzAnKSB7CiAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLnmbvlvZXmiJDlip8iCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInVzZXIiLCBKU09OLnN0cmluZ2lmeShyZXMuZGF0YSkpOyAvLyDnvJPlrZjnlKjmiLfkv6Hmga8KICAgICAgICAgICAgICAvLyDnmbvlvZXmiJDlip/nmoTml7blgJnmm7TmlrDlvZPliY3ot6/nlLEKCiAgICAgICAgICAgICAgYWN0aXZlUm91dGVyKCk7CgogICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goIi8iKTsgLy/nmbvlvZXmiJDlip/kuYvlkI7ov5vooYzpobXpnaLnmoTot7PovazvvIzot7PovazliLDkuLvpobUKCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/liujiaming/Desktop/大二下/Database/Springboot-vue/database_project/vue/src/views/Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"homepage-hero-module\">\n    <div class=\"video-container\">\n      <div :style=\"fixStyle\" class=\"filter\">\n        <div style=\"width: 400px; margin: 100px auto\">\n          <div style=\"font-size: 30px; text-align: center; padding: 30px 0; color: #333\">欢迎登录</div>\n          <el-form ref=\"form\" :model=\"form\" size=\"normal\" :rules=\"rules\">\n            <el-form-item prop=\"username\">\n              <el-input prefix-icon=\"el-icon-user-solid\" v-model=\"form.username\" placeholder=\"请输入账号\"></el-input>\n            </el-form-item>\n            <el-form-item prop=\"password\">\n              <el-input prefix-icon=\"el-icon-lock\" v-model=\"form.password\" show-password placeholder=\"请输入密码\"></el-input>\n            </el-form-item>\n            <el-form-item>\n              <div style=\"display: flex\">\n                <el-input prefix-icon=\"el-icon-key\" v-model=\"form.validCode\" style=\"width: 50%;\" placeholder=\"请输入验证码\"></el-input>\n                <ValidCode @input=\"createValidCode\" />\n              </div>\n            </el-form-item>\n<!--            <el-form-item>-->\n<!--              <el-radio v-model=\"form.role\" :label=\"1\" style=\"color: white\">管理员</el-radio>-->\n<!--              <el-radio v-model=\"form.role\" :label=\"2\" style=\"color: white\">普通用户</el-radio>-->\n<!--            </el-form-item>-->\n            <el-form-item>\n              <el-button style=\"width: 100%\" type=\"primary\" @click=\"login()\">登 录</el-button>\n            </el-form-item>\n            <el-form-item><el-button type=\"text\" @click=\"$router.push('/register')\">前往注册 >> </el-button></el-form-item>\n          </el-form>\n        </div>\n      </div>\n<!--      <video :style=\"fixStyle\" autoplay loop muted class=\"fillWidth\" v-on:canplay=\"canplay\">-->\n<!--        <source src=\"../assets/sea.mp4\" type=\"video/mp4\"/>-->\n<!--        浏览器不支持 video 标签，建议升级浏览器。-->\n<!--      </video>-->\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport request from \"@/utils/request\";\nimport ValidCode from \"@/components/ValidCode\";\nimport {activeRouter} from \"@/utils/permission\";\n\nexport default {\n  name: \"Login\",\n  components: {\n    ValidCode,\n  },\n  data() {\n    return {\n      vedioCanPlay: false,\n      fixStyle: '',\n      form: {\n\n      },\n      rules: {\n        username: [\n          {required: true, message: '请输入用户名', trigger: 'blur'},\n        ],\n        password: [\n          {required: true, message: '请输入密码', trigger: 'blur'},\n        ],\n      },\n      validCode: ''\n      // 加背景图片\n      // bg: {\n      //   backgroundImage: \"url(\" + require(\"@/assets/bg.jpg\") + \")\",\n      //   backgroundRepeat: \"no-repeat\",\n      //   backgroundSize: \"100% 100%\"\n      // }\n    }\n  },\n  mounted() {\n    sessionStorage.removeItem(\"user\")\n\n    window.onresize = () => {\n      const windowWidth = document.body.clientWidth\n      const windowHeight = document.body.clientHeight\n      const windowAspectRatio = windowHeight / windowWidth\n      let videoWidth\n      let videoHeight\n      if (windowAspectRatio < 0.5625) {\n        videoWidth = windowWidth\n        videoHeight = videoWidth * 0.5625\n        this.fixStyle = {\n          height: windowWidth * 0.5625 + 'px',\n          width: windowWidth + 'px',\n          'margin-bottom': (windowHeight - videoHeight) / 2 + 'px',\n          'margin-left': 'initial'\n        }\n      } else {\n        videoHeight = windowHeight\n        videoWidth = videoHeight / 0.5625\n        this.fixStyle = {\n          height: windowHeight + 'px',\n          width: windowHeight / 0.5625 + 'px',\n          'margin-left': (windowWidth - videoWidth) / 2 + 'px',\n          'margin-bottom': 'initial'\n        }\n      }\n    }\n    window.onresize()\n  },\n  methods: {\n    canplay() {\n      this.vedioCanPlay = true\n    },\n    // 接收验证码组件提交的 4位验证码\n    createValidCode(data) {\n      this.validCode = data\n    },\n    login () {\n      this.$refs['form'].validate((valid) => {\n        if (valid) {\n          if (!this.form.validCode) {\n            this.$message.error(\"请填写验证码\")\n            return\n          }\n          if(this.form.validCode.toLowerCase() !== this.validCode.toLowerCase()) {\n            this.$message.error(\"验证码错误\")\n            return\n          }\n          this.$message({\n                  type: \"success\",\n                  message: \"登录成功\"\n                })\n                sessionStorage.setItem(\"user\", JSON.stringify(res.data))  // 缓存用户信息\n\n          \n          request.post(\"/user/login\", this.form).then(res => {\n            if (res.code === '0') {\n              this.$message({\n                type: \"success\",\n                message: \"登录成功\"\n              })\n              sessionStorage.setItem(\"user\", JSON.stringify(res.data))  // 缓存用户信息\n\n              // 登录成功的时候更新当前路由\n              activeRouter()\n              this.$router.push(\"/\")  //登录成功之后进行页面的跳转，跳转到主页\n\n            } else {\n              this.$message({\n                type: \"error\",\n                message: res.msg\n              })\n            }\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.homepage-hero-module,\n.video-container {\n  position: relative;\n  height: 100vh;\n  overflow: hidden;\n}\n\n.video-container .poster img{\n  z-index: 0;\n  position: absolute;\n}\n\n.video-container .filter {\n  z-index: 1;\n  position: absolute;\n  /*background: rgba(0, 0, 0, 0.4);*/\n  width: 100%;\n}\n\n.fillWidth {\n  width: 100%;\n}\n</style>\n"],"sourceRoot":""}]}