{"remainingRequest":"C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare14\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare14\\vue\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare14\\vue\\src\\router\\index.js","mtime":1655286330765},{"path":"C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare14\\vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655286303750},{"path":"C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare14\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1655286306599}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgeyBjcmVhdGVSb3V0ZXIsIGNyZWF0ZVdlYkhpc3RvcnkgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IExheW91dCBmcm9tICJAL2xheW91dC9MYXlvdXQiOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgbmFtZTogJ0xheW91dCcsCiAgY29tcG9uZW50OiBMYXlvdXQsCiAgcmVkaXJlY3Q6ICIvaG9tZSIsCiAgY2hpbGRyZW46IFt7CiAgICBwYXRoOiAnaG9tZScsCiAgICBuYW1lOiAnSG9tZScsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC92aWV3cy9Ib21lIik7CiAgICB9CiAgfV0KfSwgewogIHBhdGg6ICcvbG9naW4nLAogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCJAL3ZpZXdzL0xvZ2luIik7CiAgfQp9LCB7CiAgcGF0aDogJy9yZWdpc3RlcicsCiAgbmFtZTogJ1JlZ2lzdGVyJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoIkAvdmlld3MvUmVnaXN0ZXIiKTsKICB9Cn1dOwp2YXIgcm91dGVyID0gY3JlYXRlUm91dGVyKHsKICAvL2Jhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIGhpc3Rvcnk6IGNyZWF0ZVdlYkhpc3RvcnkocHJvY2Vzcy5lbnYuQkFTRV9VUkwpLAogIHJvdXRlczogcm91dGVzCn0pOwphY3RpdmVSb3V0ZXIoKTsKCmZ1bmN0aW9uIGFjdGl2ZVJvdXRlcigpIHsKICB2YXIgdXNlclN0ciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXJQZXJtaXNzaW9uIik7CgogIGlmICh1c2VyU3RyKSB7CiAgICB2YXIgdXNlclBlcm1pc3Npb24gPSBKU09OLnBhcnNlKHVzZXJTdHIpOwogICAgdmFyIHJvb3QgPSB7CiAgICAgIHBhdGg6ICcvJywKICAgICAgbmFtZTogJ0xheW91dCcsCiAgICAgIGNvbXBvbmVudDogTGF5b3V0LAogICAgICByZWRpcmVjdDogIi9ob21lIiwKICAgICAgY2hpbGRyZW46IFtdCiAgICB9OwogICAgdXNlclBlcm1pc3Npb24uZm9yRWFjaChmdW5jdGlvbiAocCkgewogICAgICB2YXIgb2JqID0gewogICAgICAgIHBhdGg6IHAucGF0aCwKICAgICAgICBuYW1lOiBwLm5hbWUsCiAgICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgICAgICByZXR1cm4gaW1wb3J0KCJAL3ZpZXdzLyIgKyBwLm5hbWUpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgcm9vdC5jaGlsZHJlbi5wdXNoKG9iaik7CiAgICB9KTsKICAgIHZhciBvYmoyID0gewogICAgICBwYXRoOiAnL2NoYW5nZVBhcGVyJywKICAgICAgbmFtZTogJ0NoYW5nZVBhcGVyJywKICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgICAgcmV0dXJuIGltcG9ydCgiQC92aWV3cy8iICsgJ0NoYW5nZVBhcGVyJyk7CiAgICAgIH0KICAgIH07CiAgICByb290LmNoaWxkcmVuLnB1c2gob2JqMik7CgogICAgaWYgKHJvdXRlcikgewogICAgICByb3V0ZXIuYWRkUm91dGUocm9vdCk7CiAgICB9CiAgfQp9Cgpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICBpZiAodG8ucGF0aCA9PT0gJy9sb2dpbicgfHwgdG8ucGF0aCA9PT0gJy9yZWdpc3RlcicgfHwgdG8ucGF0aCA9PT0gJy9jaGFuZ2VQYXBlcicgfHwgZnJvbS5wYXRoID09PSAnL2RldGFpbCcpIHsKICAgIG5leHQoKTsKICAgIHJldHVybjsKICB9CgogIHZhciB1c2VyUGVybWlzc2lvbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXJQZXJtaXNzaW9uIikgPyBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXJQZXJtaXNzaW9uIikpIDoge307CgogIGlmICghdXNlclBlcm1pc3Npb24gfHwgIXVzZXJQZXJtaXNzaW9uLmxlbmd0aCkgewogICAgbmV4dCgnL2xvZ2luJyk7CiAgfSBlbHNlIGlmICghdXNlclBlcm1pc3Npb24uZmluZChmdW5jdGlvbiAocCkgewogICAgcmV0dXJuIHAucGF0aCA9PT0gdG8ucGF0aDsKICB9KSkgewogICAgbmV4dCgnL2xvZ2luJyk7CiAgfSBlbHNlIHsKICAgIG5leHQoKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["C:/Users/许伟豪.DESKTOP-1DJ6SRT/IdeaProjects/LabPaperShare14/vue/src/router/index.js"],"names":["createRouter","createWebHistory","Layout","routes","path","name","component","redirect","children","router","history","process","env","BASE_URL","activeRouter","userStr","sessionStorage","getItem","userPermission","JSON","parse","root","forEach","p","obj","push","obj2","addRoute","beforeEach","to","from","next","length","find"],"mappings":"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","sourcesContent":["import {createRouter, createWebHistory} from 'vue-router'\r\nimport Layout from \"@/layout/Layout\";\r\n\r\nconst routes = [\r\n    {\r\n        path: '/',\r\n        name: 'Layout',\r\n        component: Layout,\r\n        redirect: \"/home\",\r\n        children: [\r\n            {\r\n                path: 'home',\r\n                name: 'Home',\r\n                component: () => import(\"@/views/Home\"),\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        path: '/login',\r\n        name: 'Login',\r\n        component: () => import(\"@/views/Login\")\r\n    },\r\n    {\r\n        path: '/register',\r\n        name: 'Register',\r\n        component: () => import(\"@/views/Register\")\r\n    },\r\n\r\n\r\n]\r\n\r\nconst router = createRouter({\r\n    //base: process.env.BASE_URL,\r\n    history: createWebHistory(process.env.BASE_URL),\r\n    routes\r\n})\r\n\r\nactiveRouter()\r\n\r\nfunction activeRouter() {\r\n    const userStr = sessionStorage.getItem(\"userPermission\")\r\n    if (userStr) {\r\n        const userPermission = JSON.parse(userStr)\r\n        let root = {\r\n            path: '/',\r\n            name: 'Layout',\r\n            component: Layout,\r\n            redirect: \"/home\",\r\n            children: []\r\n        }\r\n        userPermission.forEach(p => {\r\n            let obj = {\r\n                path: p.path,\r\n                name: p.name,\r\n                component: () => import(\"@/views/\" + p.name)\r\n            };\r\n            root.children.push(obj)\r\n\r\n\r\n        })\r\n        let obj2 = {\r\n            path: '/changePaper',\r\n            name: 'ChangePaper',\r\n            component: () => import(\"@/views/\" + 'ChangePaper')\r\n        };\r\n        root.children.push(obj2)\r\n\r\n        if (router) {\r\n            router.addRoute(root)\r\n        }\r\n    }\r\n}\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    if (to.path === '/login' || to.path === '/register' || to.path === '/changePaper'||from.path ==='/detail') {\r\n        next()\r\n        return\r\n    }\r\n    let userPermission = sessionStorage.getItem(\"userPermission\") ? JSON.parse(sessionStorage.getItem(\"userPermission\")) : {}\r\n    if (!userPermission || !userPermission.length) {\r\n        next('/login')\r\n    } else if (!userPermission.find(p => p.path === to.path)) {\r\n        next('/login')\r\n    } else {\r\n        next()\r\n    }\r\n})\r\nexport default router\r\n"]}]}