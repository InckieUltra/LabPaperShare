{"remainingRequest":"C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare7\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare7\\vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare7\\vue\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare7\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare7\\vue\\src\\views\\Home.vue?vue&type=template&id=fae5bece&scoped=true","dependencies":[{"path":"C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare7\\vue\\src\\views\\Home.vue","mtime":1654995177933},{"path":"C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare7\\vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654995140312},{"path":"C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare7\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1654995144208},{"path":"C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare7\\vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1654995175365},{"path":"C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare7\\vue\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654995140635},{"path":"C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare7\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1654995175351}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIHdpdGhDdHggYXMgX3dpdGhDdHgsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHdpdGhTY29wZUlkIGFzIF93aXRoU2NvcGVJZCwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LWZhZTViZWNlIik7Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBzdHlsZTogewogICAgInBhZGRpbmciOiAiMTBweCIKICB9Cn07Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgaWQ6ICJtYWluIiwKICBzdHlsZTogewogICAgd2lkdGg6ICc3MjVweCcsCiAgICBoZWlnaHQ6ICc2MDBweCcKICB9Cn0sIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8zID0gewogIHN0eWxlOiB7CiAgICAibWFyZ2luLXRvcCI6ICIxMHB4IgogIH0KfTsKCnZhciBfaG9pc3RlZF80ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICBpZDogIm15Q2hhcnQiLAogIHN0eWxlOiB7CiAgICB3aWR0aDogJzcyNXB4JywKICAgIGhlaWdodDogJzYwMHB4JwogIH0KfSwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfZWxfY2FyZCA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1jYXJkIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIG51bGwsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9jYXJkLCB7CiAgICBzaGFkb3c6ICJob3ZlciIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2hvaXN0ZWRfMl07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9KV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9jYXJkLCB7CiAgICBzaGFkb3c6ICJob3ZlciIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2hvaXN0ZWRfNF07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9KV0pXSwgNjQKICAvKiBTVEFCTEVfRlJBR01FTlQgKi8KICApOwp9"},{"version":3,"sources":["C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare7\\vue\\src\\views\\Home.vue"],"names":[],"mappings":";;;;;AAEO,EAAA,KAAqB,EAArB;AAAA,eAAA;AAAA;;;8BAGC,mBAAA,CAAgE,KAAhE,EAAgE;AAA3D,EAAA,EAAE,EAAC,MAAwD;AAAhD,EAAA,KAAK,EAAE;AAAA,IAAA,KAAA,EAAA,OAAA;AAAA,IAAA,MAAA,EAAA;AAAA;AAAyC,CAAhE,E,IAAA,E;;AAAA,C;;;AAKD,EAAA,KAAwB,EAAxB;AAAA,kBAAA;AAAA;;;8BAED,mBAAA,CAAmE,KAAnE,EAAmE;AAA9D,EAAA,EAAE,EAAC,SAA2D;AAAhD,EAAA,KAAK,EAAE;AAAA,IAAA,KAAA,EAAA,OAAA;AAAA,IAAA,MAAA,EAAA;AAAA;AAAyC,CAAnE,E,IAAA,E;;AAAA,C;;;;;;;6DAVJ,mBAAA,CAOM,KAPN,EAAA,UAAA,EAOM,CANJ,mBAAA,CAIM,KAJN,EAIM,IAJN,EAIM,CAHJ,YAAA,CAEU,kBAFV,EAEU;AAFD,IAAA,MAAM,EAAC;AAEN,GAFV,EAAuB;sBACrB;AAAA,aAAgE,CAAhE,UAAgE,CAAhE;AAAA,K,CADqB;;;;AAAA,GAAvB,CAGI,CAJN,CAMI,CAPN,C,EAQA,mBAAA,CAIM,KAJN,EAAA,UAAA,EAIM,CAHJ,YAAA,CAEU,kBAFV,EAEU;AAFD,IAAA,MAAM,EAAC;AAEN,GAFV,EAAuB;sBACrB;AAAA,aAAmE,CAAnE,UAAmE,CAAnE;AAAA,K,CADqB;;;;AAAA,GAAvB,CAGI,CAJN,C","sourcesContent":["<template>\r\n\r\n  <div style=\"padding: 10px\">\r\n    <div>\r\n      <el-card shadow=\"hover\">\r\n        <div id=\"main\" :style=\"{width: '725px', height: '600px'}\"></div>\r\n      </el-card>\r\n    </div>\r\n\r\n  </div>\r\n  <div style=\"margin-top: 10px\">\r\n    <el-card shadow=\"hover\">\r\n      <div id=\"myChart\" :style=\"{width: '725px', height: '600px'}\"></div>\r\n    </el-card>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\nimport {onMounted, toRaw} from \"vue\";\r\n\r\nexport default {\r\n\r\n  data() {\r\n    return {\r\n      name: \"Home\",\r\n      param:[{\r\n        type:0,\r\n        user_id:0\r\n      }],\r\n      param1:[{\r\n\r\n      }],\r\n      id:1,\r\n      tableData:[{\r\n        count:1,\r\n        Date:1\r\n      }],\r\n      tableData1:[{\r\n        count:0,\r\n        Date:0\r\n      }],\r\n      tableData2:[{\r\n        name:'',\r\n        value:1\r\n      }]\r\n    }\r\n  },\r\n  async mounted() {\r\n    this.user1 = JSON.parse(window.sessionStorage.getItem('user'));\r\n    let that = this;\r\n    this.id = parseInt(this.user1.user_id);\r\n    this.param = {user_id: this.id,type: 0};\r\n    console.log(this.param);\r\n    const result =await request.post(\"/api/Field\",this.param1)\r\n    this.tableData2 = result\r\n    console.log(this.tableData2)\r\n    request.post(\"/api/home\",this.param).then((res) => {\r\n      this.tableData = res\r\n      console.log(this.tableData)\r\n      this.param={user_id: 0,type: 1};\r\n      request.post(\"/api/home\",this.param).then((res) => {\r\n        this.tableData1 = res\r\n        console.log(this.tableData1)\r\n        this.drawLine();\r\n        this.drawLine1();\r\n      });\r\n    });\r\n\r\n\r\n  },\r\n  // created() {\r\n  //   let userStr = sessionStorage.getItem(\"user\") || \"{}\"\r\n  //   this.user = JSON.parse(userStr)\r\n  //   // 请求服务端，确认当前登录用户的 合法信息\r\n  //   request.get(\"/user/\" + this.user.id).then(res => {\r\n  //     if (res.code === 0) {\r\n  //       this.user = res.data\r\n  //     }\r\n  //   })\r\n  //\r\n  //   this.load()\r\n  // },\r\n  methods: {\r\n    drawLine1(){\r\n\r\n      let myChart = this.$root.echarts.init(document.getElementById('main'))\r\n      let that = this;\r\n      let option = {\r\n        title: {\r\n          text: '我的上传 vs 全组上传',\r\n\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis'\r\n        },\r\n        legend: {\r\n          data: ['我的上传', '全组上传']\r\n        },\r\n        toolbox: {\r\n          show: true,\r\n          feature: {\r\n            dataView: { show: true, readOnly: false },\r\n            magicType: { show: true, type: ['line', 'bar'] },\r\n            restore: { show: true },\r\n            saveAsImage: { show: true }\r\n          }\r\n        },\r\n        calculable: true,\r\n        xAxis: [\r\n          {\r\n            type: 'category',\r\n            // prettier-ignore\r\n            data: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\r\n          }\r\n        ],\r\n        yAxis: [\r\n          {\r\n            type: 'value'\r\n          }\r\n        ],\r\n        series: [\r\n          {\r\n            name: '我的上传',\r\n            type: 'bar',\r\n            data:[],\r\n            markPoint: {\r\n              data: [\r\n                { type: 'max', name: 'Max' },\r\n                { type: 'min', name: 'Min' }\r\n              ]\r\n            },\r\n            markLine: {\r\n              data: [{ type: 'average', name: '平均上传数' }]\r\n            }\r\n          },\r\n          {\r\n            name: '全组上传',\r\n            type: 'bar',\r\n            data:[],\r\n            markPoint: {\r\n              data: [\r\n                { type: 'max', name: 'Max' },\r\n                { type: 'min', name: 'Min' }\r\n              ]\r\n            },\r\n            markLine: {\r\n              data: [{ type: 'average', name: '平均上传数' }]\r\n            }\r\n          }\r\n        ]\r\n      }\r\n      this.tableData.filter(item=>{\r\n        option.series[0].data.push(item.count)\r\n      })\r\n      this.tableData1.filter(item=>{\r\n        option.series[1].data.push(item.count)\r\n      })\r\n      console.log(option.series[0].data)\r\n      myChart.setOption(option);\r\n    },\r\n    drawLine() {\r\n      // 基于准备好的dom，初始化echarts实例\r\n      let myChart = this.$root.echarts.init(document.getElementById('myChart'))\r\n      let option = {\r\n        title: {\r\n          text: '上传论文比例统计图',\r\n          left: 'left',\r\n          bottom:'bottom'\r\n        },\r\n        tooltip: {\r\n          trigger: 'item'\r\n        },\r\n        legend: {\r\n          trigger: 'item'\r\n        },\r\n        toolbox: {\r\n          show: true,\r\n          feature: {\r\n            mark: {show: true},\r\n            dataView: {show: true, readOnly: false},\r\n            restore: {show: true},\r\n            saveAsImage: {show: true}\r\n          }\r\n        },\r\n        series: [\r\n          {\r\n            name: '上传数量',\r\n            type: 'pie',\r\n            radius: [50, 250],\r\n            center: ['50%', '50%'],\r\n            roseType: 'area',\r\n            itemStyle: {\r\n              borderRadius: 8\r\n            },\r\n            data: [\r\n            ]\r\n          },\r\n\r\n        ]\r\n      }\r\n      this.tableData2.filter(item=>{\r\n        option.series[0].data.push(item)\r\n      })\r\n      myChart.setOption(option);\r\n      // request.get(\"/user/count\").then(res => {\r\n      //   if (res.code === '0') {\r\n      //     res.data.forEach(item => {\r\n      //       option.series[0].data.push({name: item.address, value: item.count})\r\n      //     })\r\n      //     // 绘制图表\r\n      //     myChart.setOption(option);\r\n      //   }\r\n      // })\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-carousel__item h3 {\r\n  color: #475669;\r\n  font-size: 14px;\r\n  opacity: 0.75;\r\n  line-height: 200px;\r\n  margin: 0;\r\n}\r\n\r\n.el-carousel__item:nth-child(2n) {\r\n  background-color: #99a9bf;\r\n}\r\n\r\n.el-carousel__item:nth-child(2n+1) {\r\n  background-color: #d3dce6;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}