{"remainingRequest":"C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare\\vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare\\vue\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare\\vue\\src\\views\\Search.vue?vue&type=template&id=1a1d373c&scoped=true","dependencies":[{"path":"C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare\\vue\\src\\views\\Search.vue","mtime":1653952369075},{"path":"C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare\\vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1653921186395},{"path":"C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1653921189470},{"path":"C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare\\vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1653921193628},{"path":"C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare\\vue\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1653921186402},{"path":"C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1653921191427}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IHZNb2RlbFRleHQgYXMgX3ZNb2RlbFRleHQsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgdlNob3cgYXMgX3ZTaG93LCB3aXRoU2NvcGVJZCBhcyBfd2l0aFNjb3BlSWQsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7CgpfcHVzaFNjb3BlSWQoImRhdGEtdi0xYTFkMzczYyIpOwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJzZWFyY2giCn07CnZhciBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAic2VhcmNoLWNvbnRlbnQiLAogIHJlZjogInNlYXJjaCIKfTsKdmFyIF9ob2lzdGVkXzMgPSBbIm9uQ2xpY2siXTsKdmFyIF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJzZWFyY2gtaXRlbSBib3JkZXItYm90dG9tIgp9OwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgbnVsbCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEsIFtfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaW5wdXQiLCB7CiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJGRhdGEua2V5d29yZCA9ICRldmVudDsKICAgIH0pLAogICAgY2xhc3M6ICJzZWFyY2gtaW5wdXQiLAogICAgdHlwZTogInRleHQiLAogICAgcGxhY2Vob2xkZXI6ICLor7fovpPlhaXln47luILlkI3miJbogIXmmK/mi7zpn7MiCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRkYXRhLmtleXdvcmRdXSldKSwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJ1bCIsIG51bGwsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRkYXRhLmxpc3QsIGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJsaSIsIHsKICAgICAgY2xhc3M6ICJzZWFyY2gtaXRlbSBib3JkZXItYm90dG9tIiwKICAgICAga2V5OiBpdGVtLmlkLAogICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCRldmVudCkgewogICAgICAgIHJldHVybiAkb3B0aW9ucy5oYW5kbGVDaXR5Q2xpY2soaXRlbS5uYW1lKTsKICAgICAgfQogICAgfSwgX3RvRGlzcGxheVN0cmluZyhpdGVtLm5hbWUpLCA5CiAgICAvKiBURVhULCBQUk9QUyAqLwogICAgLCBfaG9pc3RlZF8zKTsKICB9KSwgMTI4CiAgLyogS0VZRURfRlJBR01FTlQgKi8KICApKSwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoImxpIiwgX2hvaXN0ZWRfNCwgIuayoeacieaJvuWIsOWMuemFjeaVsOaNriIsIDUxMgogIC8qIE5FRURfUEFUQ0ggKi8KICApLCBbW192U2hvdywgJG9wdGlvbnMuaGFzTm9EYXRhXV0pXSldLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgW1tfdlNob3csICRkYXRhLmtleXdvcmRdXSldKTsKfQ=="},{"version":3,"sources":["C:\\Users\\许伟豪.DESKTOP-1DJ6SRT\\IdeaProjects\\LabPaperShare\\vue\\src\\views\\Search.vue"],"names":[],"mappings":";;;;;;AAES,EAAA,KAAK,EAAC;;;AAGN,EAAA,KAAK,EAAC,gB;AAAiB,EAAA,GAAG,EAAC;;;;AAGxB,EAAA,KAAK,EAAC;;;;;;uBAPhB,mBAAA,CAUM,KAVN,EAUM,IAVN,EAUM,CATJ,mBAAA,CAEM,KAFN,EAAA,UAAA,EAEM,C,gBADJ,mBAAA,CAAsF,OAAtF,EAAsF;;aAAtE,KAAA,CAAA,OAAA,GAAO,M;MAA+D;AAA7D,IAAA,KAAK,EAAC,cAAuD;AAAxC,IAAA,IAAI,EAAC,MAAmC;AAA5B,IAAA,WAAW,EAAC;AAAgB,GAAtF,E,IAAA,E;;AAAA,G,iBAAgB,KAAA,CAAA,O,GACZ,CAFN,CASI,E,gBANJ,mBAAA,CAKM,KALN,EAAA,UAAA,EAKM,CAJJ,mBAAA,CAGK,IAHL,EAGK,IAHL,EAGK,E,kBAFH,mBAAA,CAAkI,SAAlI,EAAkI,IAAlI,EAAkI,WAAA,CAA7E,KAAA,CAAA,IAA6E,EAAzE,UAAZ,IAAY,EAAR;yBAAjD,mBAAA,CAAkI,IAAlI,EAAkI;AAA9H,MAAA,KAAK,EAAC,2BAAwH;AAAtE,MAAA,GAAG,EAAE,IAAI,CAAC,EAA4D;AAAvD,MAAA,OAAK,EAAA,iBAAA,MAAA;AAAA,eAAE,QAAA,CAAA,eAAA,CAAgB,IAAI,CAAC,IAArB,CAAF;AAAA;AAAkD,KAAlI,E,iBAAiH,IAAI,CAAC,I,CAAtH,EAA0H;AAAA;AAA1H,MAA0H,UAA1H,C;GAAkI,CAAlI,E;;AAAA,GAEG,G,gBADH,mBAAA,CAAsE,IAAtE,EAAA,UAAA,EAAyD,UAAzD,EAAiE;AAAA;AAAjE,G,EAAiE,C,SAAnB,QAAA,CAAA,S,CAAmB,C,CAC9D,CAHL,CAII,CALN,E;;AAAA,G,YAAiD,KAAA,CAAA,O,GAM7C,CAVN,C","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"search\">\r\n      <input v-model=\"keyword\" class=\"search-input\" type=\"text\" placeholder=\"请输入城市名或者是拼音\" />\r\n    </div>\r\n    <div class=\"search-content\" ref=\"search\" v-show=\"keyword\">\r\n      <ul>\r\n        <li class=\"search-item border-bottom\" v-for=\"item of list\" :key=\"item.id\" @click=\"handleCityClick(item.name)\">{{ item.name }}</li>\r\n        <li class=\"search-item border-bottom\" v-show=\"hasNoData\">没有找到匹配数据</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Bscroll from 'better-scroll'\r\nimport { mapMutations } from 'vuex'\r\nexport default {\r\n  name: 'CityHearch',\r\n  props: {\r\n    cities: Object\r\n  },\r\n  data () {\r\n    return {\r\n      keyword: ' ',\r\n      list: [],\r\n      timer: null\r\n    }\r\n  },\r\n  mounted () {\r\n    this.scroll = new Bscroll(this.$refs.search)\r\n  },\r\n  computed: {\r\n    hasNoData () {\r\n      return !this.list.length\r\n    }\r\n  },\r\n  methods: {\r\n    handleCityClick (city) {\r\n      this.changeCity(city)\r\n      this.$router.push('/')\r\n    },\r\n    ...mapMutations(['changeCity'])\r\n  },\r\n  watch: {\r\n    keyword () {\r\n      if (this.timer) {\r\n        clearTimeout(this.timer)\r\n      }\r\n      if (!this.keyword) {\r\n        this.list = []\r\n        return\r\n      }\r\n      this.timer = setTimeout(() => {\r\n        const result = []\r\n        for (let i in this.cities) {\r\n          this.cities[i].forEach((value) => {\r\n            if (value.spell.indexOf(this.keyword) > -1 || value.name.indexOf(this.keyword) > -1) {\r\n              result.push(value)\r\n            }\r\n          })\r\n        }\r\n        this.list = result\r\n      }, 100)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '~styles/varibles.styl'\r\n.search\r\n  height: .72rem\r\n  padding: 0 .1rem\r\n  background: $bgColor\r\n  .search-input\r\n    box-sizing: border-box\r\n    width: 100%\r\n    height: .62rem\r\n    padding: 0 .1rem\r\n    line-height: .62rem\r\n    text-align: center\r\n    border-radius: .06rem\r\n    color: #666\r\n.search-content\r\n  z-index: 1\r\n  overflow: hidden\r\n  position: absolute\r\n  top: 1.58rem\r\n  left: 0\r\n  right: 0\r\n  bottom: 0\r\n  background: #eee\r\n  .search-item\r\n    line-height: .62rem\r\n    padding-left: .2rem\r\n    background: #fff\r\n    color: #666\r\n</style>\r\n\r\n"],"sourceRoot":""}]}